<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bar Chart</title>
    <style>
        html, body {
            margin: 0;
            padding: 10px;
        }
    </style>
</head>

<body>
<div class="chart-wrapper">
    <div id="chart" style="height: 500px; width: 1850px;"></div>
</div>
<script src="/usr/share/local/echarts/echarts-all-4.8.0.js"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/echarts@4.4.0/dist/echarts.min.js"></script>-->

<script type="text/javascript">
    // fixme: start
    var color = '#color#';//['#ff0000', '#ff7700', '#60b720', '#999'];
    var xAxisData = '#xAxisData#';//['报警', '预警', '健康', '停机'];
    var data = '#seriesData#';//[0.13, 0, 1.5, 5.37];
    var yUnit = '#yUnit#';
    // fixme: end

    var barWidth = 50;
    if (xAxisData && xAxisData.length > 11) {
        barWidth = 40;
    }
    var seriesData = [];
    (data || []).forEach(function (val, index) {
        seriesData.push({value: val, itemStyle: {color: color[index]}});
    });
    var chart = echarts.init(document.getElementById('chart'));
    var option = {
        color: (color || []).length == 0 ? ['#4091ea'] : color,
        grid: {left: 80, top: 100, right: 100},
        legend: {
            show: false
        },
        xAxis: [
            {
                type: 'category',
                axisLabel: {
                    show: true,
                    color: '#999',
                    fontSize: 40
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: '#ddd'
                    }
                },
                data: xAxisData
            }
        ],
        yAxis: [{
            type: 'value',
            axisLine: {
                show: false
            },
            axisTick: {
                show: false
            },
            splitLine: {
                show: false
            },
            axisLabel: {
                show: false
            }
        }],
        series: [
            {
                type: 'bar',
                barWidth: barWidth,
                name: '',
                data: seriesData,
                label: {
                    show: true,
                    fontSize: 35,
                    position: 'top',
                    formatter: function (params) {
                        return params.value + yUnit;
                    }
                }
            }
        ]
    };
    option && chart.setOption(option);
</script>
</body>
</html>